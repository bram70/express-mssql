/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var g=function(f){var t=this;var c=[];var l=f.getLabel();var C=f.getFields();if(l){C=[l].concat(C);}C.forEach(function(o){c.push({element:o,visible:o.getVisible(),index:t.getContent().indexOf(o)});});return{elementsState:c};};return{aggregations:{content:{ignore:true},form:{ignore:false,actions:{move:function(m){var t=m.getMetadata().getName();if(t==="sap.ui.layout.form.FormContainer"){return"moveSimpleFormGroup";}else if(t==="sap.ui.layout.form.FormElement"){return"moveSimpleFormField";}},rename:function(e){var t=e.getMetadata().getName();var i=true;var r;if(t==="sap.ui.layout.form.FormContainer"){if(e.getToolbar&&e.getToolbar()){i=false;}r={changeType:"renameTitle",isEnabled:i,domRef:function(c){if(c.getTitle&&c.getTitle()){return c.getTitle().getDomRef();}else{return;}},getState:function(c){var s={oldValue:c.getTitle().getText()};return s;},restoreState:function(c,s){c.getTitle().setText(s.oldValue);var b="";var B=c.getTitle().getBindingInfo("text");if(B){b=B.binding.getValue();if(b===s.oldValue){var o=c.getTitle().getBinding("text");if(o){o.resume();}}}return true;}};}else if(t==="sap.ui.layout.form.FormElement"){r={changeType:"renameLabel",isEnabled:i,domRef:function(c){return c.getLabel().getDomRef();},getState:function(c){var s={oldValue:c.getLabel().getText()};return s;},restoreState:function(c,s){c.getLabel().setText(s.oldValue);var b="";var B=c.getLabel().getBindingInfo("text");if(B){b=B.binding.getValue();if(b===s.oldValue){var o=c.getLabel().getBinding("text");if(o){o.resume();}}}return true;}};}return r;},remove:function(r){var t=r.getMetadata().getName();var c;var i=true;if(t==="sap.ui.layout.form.FormContainer"){c="removeSimpleFormGroup";i=!!r.getTitle()||!!r.getToolbar();}else if(t==="sap.ui.layout.form.FormElement"){c="hideSimpleFormField";}return{changeType:c,isEnabled:i,getConfirmationText:function(r){var C=false;if(r.getMetadata().getName()==="sap.ui.layout.form.FormContainer"&&r.getToolbar&&r.getToolbar()){var T=r.getToolbar().getContent();if(T.length>1){C=true;}else if((T.length===1)&&(!T[0].getMetadata().isInstanceOf("sap.ui.core.Label")&&!T[0]instanceof sap.ui.core.Title&&!T[0]instanceof sap.m.Title)){C=true;}}if(C){var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");return o.getText("MSG_REMOVING_TOOLBAR");}},getState:function(r){var a=this;if(r.getMetadata().getName()==="sap.ui.layout.form.FormElement"){return g.call(this,r);}else{var e=[];var T=r.getTitle()||r.getToolbar();e.push({element:T,index:this.getContent().indexOf(T)});r.getFormElements().forEach(function(f){e=e.concat(g.call(a,f).elementsState);});return{elementsState:e};}},restoreState:function(r,s){var a=this;if(r.getMetadata().getName()==="sap.ui.layout.form.FormElement"){s.elementsState.forEach(function(e){e.element.setVisible(e.visible);});}else{s.elementsState.forEach(function(e){if(e.visible){e.element.setVisible(e.visible);}if(e.index!==undefined){a.removeContent(e.element);a.insertContent(e.element,e.index);}});}}};}}}}};},false);
