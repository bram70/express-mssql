/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.encoder","sap/ui/demokit/SimpleTreeNode"],function(q,S){"use strict";var a={};a.render=function(r,t){var b=r;var s=_(t.getNodes());c(s);d();if(t.getTitle()){e();}if(t.getShowFilter()&&t.getModel()){f();}g();h(t.getNodes());j();k();function _(n){if(!n){return null;}for(var i=0;i<n.length;i++){if(n[i].getIsSelected()){return n[i];}var C=n[i].getNodes();var l=_(C);if(l){return l;}}return null;}function c(n){if(n instanceof S){n.setExpanded(true);var N=n.getParent();c(N);}}function d(){b.write("<div");b.writeControlData(t);b.addClass("sapDkSimpleTree sapUiSizeCompact");b.writeClasses();b.addStyle("width",t.getWidth()||"auto");b.addStyle("height",t.getHeight()||"auto");b.writeStyles();b.writeAttribute("role","tree");b.write(">");}function e(){b.write("<div");b.addClass("sapDkSimpleTreeTitle");b.writeClasses();b.writeAttribute("role","heading");b.write(">");b.writeEscaped(t.getTitle());b.write("</div>");}function f(){b.renderControl(t.getAggregation("_searchField"));}function g(){b.write("<ul");b.addClass("sapDkSimpleTreeRootList");b.writeClasses();b.write(">");}function h(n){for(var i=0;i<n.length;i++){a.renderNode(b,n[i],n.length,i);}}function j(){b.write("</ul>");}function k(){b.write("</div>");}};a.renderNode=function(r,t,R,b){var B=7;var N=15;var c=0;_(t,c,R,b);function _(n,h,s,j){d(n,h,s,j);var C=n.getNodes();if(C&&C.length>0){h++;f(n.getExpanded());for(var i=0;i<C.length;i++){_(C[i],h,C.length,i);}h--;g();}e(n);}function d(n,i,s,h){var j=n.getNodes(),H=(j&&j.length>0);r.write("<li");r.writeElementData(n);r.addClass("sapDkSimpleTreeNode");if(i===0){if(n.getExpanded()){r.addClass("sapDkSimpleTreeNodeFirstLvlRootExp");}else if(H){r.addClass("sapDkSimpleTreeNodeFirstLvlRootCol");}}r.writeClasses();r.write(">");r.write("<a href=\""+q.sap.encodeHTML(n.getRef()||"")+"\"");var I=sap.ui.getCore().getConfiguration().getRTL();r.addStyle(I?"padding-right":"padding-left",((i*N)+B)+"px");r.writeStyles();r.writeAttribute("tabindex","-1");if(n.getIsSelected()){r.addClass("sapDkSimpleTreeNodeSelected");}if(i===0){r.addClass("sapDkSimpleTreeNodeFirstLvl");}r.writeClasses();var p={role:'treeitem',level:i+1,setsize:s,posinset:h+1};if(n.getExpanded()){p["expanded"]=true;}else if(H){p["expanded"]=false;}r.writeAccessibilityState(n,p);r.write(">");if(H){r.renderControl(n.getAggregation("_iconControl"));}else{r.write("<span");r.addClass("sapDkSimpleTreeNodeNoChildren");r.writeClasses();r.write(">");r.write("</span>");}r.write("<span");r.addClass("sapDkSimpleTreeNodeLabel");r.writeClasses();r.write(">");r.writeEscaped(n.getText());r.write("</span>");r.write("</a>");}function e(){r.write("</li>");}function f(i){r.write("<ul");if(i){r.addClass("sapDkSimpleTreeVisibleChildrenNodes");}else{r.addClass("sapDkSimpleTreeHiddenChildrenNodes");}r.writeClasses();r.write(">");}function g(){r.write("</ul>");}};return a;},true);
