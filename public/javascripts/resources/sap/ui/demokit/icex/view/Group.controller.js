/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/Device","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/demokit/icex/model/Config"],function(q,D,C,J,a){"use strict";return C.extend("sap.ui.demokit.icex.view.Group",{onInit:function(){var m=new J({listMode:(D.system.phone)?"None":"SingleSelectMaster",listItemType:(D.system.phone)?"Active":"Inactive",listPageSize:a.getPageSize()});this.getView().setModel(m,"ui");if(D.system.phone){this.getView().byId("page").destroyFooter();}this.getView().addEventDelegate({onBeforeShow:q.proxy(function(e){this.onBeforeShow(e);},this)});},onBeforeShow:function(e){if(e.data&&e.data.context){this.getView().setBindingContext(e.data.context);}},toFavorite:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Favorite"});},navBack:function(e){var b=this.getOwnerComponent().getEventBus();b.publish("nav","back");},selectIconList:function(e){this._showDetail(e.getParameter("listItem"));},pressIconListItem:function(e){this._showDetail(e.getSource());},_showDetail:function(i){var b=this.getOwnerComponent().getEventBus();b.publish("nav","to",{id:"Detail"});b.publish("app","RefreshDetail",{name:i.getBindingContext().getObject().name});}});});
