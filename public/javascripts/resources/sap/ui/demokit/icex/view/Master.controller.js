/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel","sap/ui/demokit/icex/model/Config","sap/ui/Device"],function(C,F,a,J,b,D){"use strict";return C.extend("sap.ui.demokit.icex.view.Master",{onInit:function(){var m=new J({listMode:(D.system.phone)?"None":"SingleSelectMaster",listItemType:(D.system.phone)?"Active":"Inactive",listPageSize:b.getPageSize(),showFooter:!D.system.phone});this.getView().setModel(m,"ui");this.search();},search:function(){var s=this.getView().byId("search").getValue(),c=(s.length!==0),f=new F("tags",a.Contains,s);var i=this.getView().byId("iconList");var g=this.getView().byId("groupList");i.toggleStyleClass("invisible",!c);g.toggleStyleClass("invisible",c);var d=i.getBinding("items");if(c&&d!==undefined){d.filter([f]);}},toFavorite:function(e){var c=this.getOwnerComponent().getEventBus();c.publish("nav","to",{id:"Favorite"});},selectIconList:function(e){this._showDetail(e.getParameter("listItem"));},pressIconListItem:function(e){this._showDetail(e.getSource());},_showDetail:function(i){var c=this.getOwnerComponent().getEventBus();c.publish("nav","to",{id:"Detail"});c.publish("app","RefreshDetail",{name:i.getBindingContext().getObject().name});},pressGroupListItem:function(e){var c=this.getOwnerComponent().getEventBus();c.publish("nav","to",{id:"Group",data:{context:e.getSource().getBindingContext()}});}});});
